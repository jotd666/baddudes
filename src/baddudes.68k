	.include	"patchlist.68k"
	
	.global		baddudes_reset
	.global		baddudes_irq
	.ifdef		__amiga__
	.include	"baddudes_ram.68k"
	.endif
	.align	2

baddudes_reset:
	move.l	rom_base,a0
	move.l	ram_base,a1
	sub.l	#0xFF8000,a1	| arcade RAM base
	move.l	a1,d1
	
	lea		ram_relocs(pc),a2
0:
	move.l	(a2)+,d0
	jmi		1f
	add.l	d1,(a0,d0.l)
	jra		0b
1:
	* jump to rom start
	jbsr	osd_flush_caches
	move.l	rom_base,-(a7)
	add.l	#0x13dc,(a7)
	jbsr	osd_break
	rts
	
baddudes_irq:
	rts
	