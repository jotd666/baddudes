Hi,

I'm making good progress on Bad Dudes vs Dragonninja. There's an amiga version which has some okay music but

- it's incomplete
- the instruments used may be okay or very shitty (ST-00...)

The tunes are available as MP3 or vgmrip: https://vgmrips.net/packs/pack/bad-dudes-vs-dragonninja-data-east

Could you try to create close versions of the tunes, maybe using some instruments of the amiga modules? The tunes would use 3 channels, except for the
"game completed" tune which can use all 4 channels.

I'm expecting a "big" hit so I'd share a good percentage of the donations with you.

Not sure that all tunes could fit in one module. Level 1 and level 2 could use separate modules if instruments are too different, in order to save chipmem.
As opposed as other smaller games, I'm using files & per-level loading, so tunes could be loaded too

- dump level 2 tiles with proper palette for background tiles, try to use only 16 colors
- merge baddudes log from level 1 to level 2
- group cars bobs to display them in 1 piece (if possible, as it requires clipping)
- left osd mssing 1 char ("G"AME OVER)
- when losing a life, life character is not erased
- truck missing 1 bitplane or something... wrong color
- log & rip missing sounds: breakpoint on sound not found so able to go to mame and rip it

- multiplexed sprites for scores / lamps / status
- hack lamps/trees/fire hydrants (from 244000 layer) with hardware sprites:
  figure out first layer row scroll registers, "trigger" tile to display / undisplay sprite
  => get scroll value from 242404 write (set_front_layer_scroll_0e3f0)
- missing frames: karnov head when dying,
  main character with nunchuck upper tiles (crouching, 0x30,0x32 still not dumped or displayed)
- karnov: when scrolling at 0, characters on fence upper
  left "wrap" to bottom right, are clipped to soon on left (player) also tile restore is wrong
  
- try to group erases 16+16 = 32
- case where CPU erase is 32 bytes size, 16 almost never happens =>
  table with 16,32,48,64 cpu erase routines
- ninja wrong early X right clip

- double buffering random issues
  
- truck: X-clipping creates strange artifacts (jailbars) 
  depending on shifting (mask???) also start of truck bltafwm not working
- need to optimize truck/train erase: depending on the level, compute the parts that need
  background refresh. Truck: bottom (wheels) + part between front & tow & exhaust pipe. 
  Rest: not needed. same for big truck & train, with inter-tow: in progress
- implement start level to try to start level 2
  
- use wrap for vertical scrolling (level 7)
- level 4 backgruond trees: get image: then use static 3 color sprite image with 3 greens
  or 3 browns with dynamic color change, use sprites 4-7 with priority: behind playfields
- level 4: maybe remove foreground trees if possible
- level 6: same
- level 6 background cave maybe OK with 3 grays
- sprite mirror_planes: mirroring with width != 16 to implement: test on 32 then make a special case for 32 bits (d0=6)
- levels with trains/trucks: load traintrucks bitplanes in non-displayed screen buffer
  to save chipmem


- rip 24D000 & 24A000 tiles

- restore buffer uses 3 horizontal playfields, they should use only 2 plus a few tiles
  to restore bobs that "wrap"
  alternative: if bob X + width wrap, clip it and perform 2 restores (but 2x as blits!)
- quantize should be improved: definitely consider color weights/frequencies

- "bad dudes" title still small glitches
- "CREDIT" not written when coin inserted


- osd_write_byte not working properly

howto:
- skip music level 1: bpset 0df2a,D0==$1F || D0==$27 || D0 == $2C || D0 == $26,{CURPC=$13DA;g}

reverse lb_024dc
reverse jump tables (like in pooyan): get dc.l  lb_xxxxx and set breakpoints
    ADDA.L    D2,A3            ;025b4: d7c2
    MOVEA.L    (A3),A3            ;025b6: 2653
    JSR    (A3)            ;025b8: 4e93
